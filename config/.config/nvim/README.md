# Neovim Configuration

This `README` describes the configuration files in this directory for **Neovim**, managed via **lazy.nvim**. It covers the folder's structure, prerequisites, installation steps, plugin overview, customisation, and troubleshooting tips.

## 1. Directory Contents

```bash
~/dotfiles-i3/.config/nvim/
├── init.lua            # Main Neovim entrypoint (loads lazy.nvim)
├── lazy-lock.json      # Plugin lockfile (auto-generated by lazy.nvim)
└── lua
    ├── config
    │   └── lazy.lua    # lazy.nvim setup and plugin import
    └── plugins         # Individual plugin configuration files
        ├── autopairs.lua           # Auto-pairs for brackets, quotes
        ├── comment.lua             # Comment.nvim mappings (gc, gb)
        ├── completion.lua          # nvim-cmp completion sources & behavior
        ├── conform.lua             # Conform.nvim for code formatting
        ├── devicons.lua            # Filetype icons (nvim-web-devicons)
        ├── dracula.lua             # Dracula color scheme setup
        ├── explorer.lua            # File explorer (e.g., nvim-tree)
        ├── gitsigns.lua            # Git signs in the gutter
        ├── illuminate.lua          # Highlight repeated words under cursor
        ├── indent-blankline.lua    # Indentation guides
        ├── lspconfig.lua           # LSP setup (mason, mason-lspconfig, handlers)
        ├── lualine.lua             # Statusline (lualine.nvim)
        ├── markdownViewer.lua      # Markdown preview plugin
        ├── mason-lspconfig.lua     # mason-lspconfig.nvim setup
        ├── mason.lua               # mason.nvim install configuration
        ├── neoscroll.lua           # Smooth scrolling (neoscroll.nvim)
        ├── noice.lua               # UI + message, cmdline, popup enhancements
        ├── telescope.lua           # Fuzzy finder (telescope.nvim)
        ├── treesitter.lua          # Syntax & text objects (nvim-treesitter)
        └── whichkey.lua            # Keybinding hints (which-key.nvim)
```

## 2. Prerequisites

- **Neovim v0.8+** (v0.9+ recommended)
- **Git** (for cloning & updating plugins)
- **Node.js** (optional, for some LSP servers & tree-sitter)
- **ripgrep, fd, bat** (enhances Telescope performance)

Install on Arch Linux:

```
sudo pacman -S neovim git nodejs npm ripgrep fd bat
```

On Debian/Ubuntu:

```
sudo apt install neovim git nodejs npm ripgrep fd-find bat
```

## 3. Installation & Setup

1. Clone or copy this config into `~/.config.nvim`
2. Launch Neovim:
    ```bash
    nvim
    ```
3. Install plugins:
    ```vim
    :Lazy sync
    ```
4. Install LSP servers via Mason:
   `vim
:Mason
`
   Restart Neovim afterwards

## 4. Plugin Overview

| **Plugin**                | **Purpose**                                    |
| ------------------------- | ---------------------------------------------- |
| **lazy.nvim**             | Plugin manager & lazy-loading                  |
| **nvim-treesitter**       | Syntax highlighting, incremental parsing       |
| **nvim-cmp**              | Autocompletion framework                       |
| **LuaSnip** (via cmp)     | Snippet engine                                 |
| **mason.nvim**            | Installer for LSP servers, linters, formatters |
| **mason-lspconfig.nvim**  | Bridges mason.nvim & nvim-lspconfig            |
| **nvim-lspconfig**        | Neovim LSP client configurations               |
| **which-key.nvim**        | Popup keybinding hints                         |
| **Comment.nvim**          | Easy code commenting (`gc`, `gb`)              |
| **nvim-autopairs**        | Auto-pairs for brackets & quotes               |
| **telescope.nvim**        | Fuzzy finder & picker UI                       |
| **nvim-web-devicons**     | Filetype icons in UI                           |
| **lualine.nvim**          | Statusline customisation                       |
| **nvim-tree.lua**         | File explorer sidebar                          |
| **dracula.nvim**          | Dracula colorscheme                            |
| **markdown-preview.nvim** | In-editor Markdown preview                     |
| **neoscroll.nvim**        | Smooth scrolling animations                    |
| **conform.nvim**          | Code formatting with external formatters       |
| **gitsigns.nvim**         | Git diff signs, blame, and hunk actions        |
| **noice.nvim**            | Modern UI for messages, cmdline, popups        |
| **indent-blankline**      | Visual indent guides                           |
| **vim-illuminate**        | Highlights repeated text under cursor          |

Each plugin's individual settings live in `lua/plugins/*.lua`.

## 5. LSP Language Support

### Backend / Systems / General

- `lua_ls` &mdash; Lua (for Neovim config)
- `pyright` &mdash; Python
- `rust_analyzer` &mdash; Rust
- `gopls` &mdash; Go
- `clangd` &mdash; C/C++
- `sqls` &mdash; SQL LSP

### Web Development

- `tsserver` &mdash JavaScript & TypeScript
- `html`
- `cssls`
- `emmet_ls`
- `tailwindcss`
- `jsonls`
- `eslint`
- `stylelint_lsp`

### Infrastructure / Scripting

- `yamlls`
- `marksman` &mdash; Markdown

### gRPC / Protobuf

- `bufls`

This setup fully supports **Python**, **Lua**, **JS/TS**, **Rust**, **Go**, **C/C++**, **SQL**, **Yaml**, **Web Stack**, **gRPC/Proto**, and **Markdown**.

## 6. Customisation

- **Themes**: Modify `lua/plugins/dracula.lua` or switch to another colorscheme.
- **LSP**: Tweak `lua/plugins/lspconfig.lua` for on_attach, capabilities, handlers, and server-specific settings.
- **Keybindings**: Add or adjust mappings in `lua/plugins/whichkey.lua`.
- **Explorer**: Configure view options, icons, and filesystem filters in `explorer.lua`.
- **Statusline**: Change sections, separators, and themes in `lualine.lua`.
- **Completion**: Enable/disable sources or adjust sorting in `completion.lua`.
- **UI Enhancements**: Configure Noice and its presets in `noice.lua`.
- **Indent guide**: Adjust behavior in `indent-blankline.lua`.

After changes:

```vim
:Lazy sync
```

## 7. Formatters (Conform.nvim)

Some formatters require manual installation:

**Examples**
|Language | Formatter | Install |
| --- | --- | --- |
| Python | black | `pip install black` |
| Lua | stylua | `cargo install stylua` |
| JS/TS | prettier | `npm install -g prettier` |
| SQL | sql-formatter | `npm install -g sql-formatter` |
| YAML | prettier | `npm install -g prettier` |
| Go | goimports | `go install golang.org/x/tools/cmd/goimports@latest` |

Check available formatters in Neovim:

    ```vim
    :ConformInfo
    ```

## 8. Key Commands

| **Command**             | **Description**                      |
| ----------------------- | ------------------------------------ |
| `:Lazy`                 | Opens lazy.nvim UI (plugin manager)  |
| `:Mason`                | Opens Mason UI (LSP/tools installer) |
| `:Telescope find_files` | Fuzzy find files                     |
| `:Telescope live_grep`  | Search text across files             |
| `:LspInfo`              | Show active LSP servers              |
| `:lspsage`              | (if installed) UI for LSP actions    |
| `:Noice`                | Noice UI dashboard                   |

Plus all normal LSP mappings (`gd`, `K`, `<leader>rn`, etc.) defined in your LSP setup.

## 8. Troubleshooting

- **Plugin errors?** Run `:Lazy health` to check for missing dependencies.
- **LSP not attaching?** Ensure you've installed the server via `:Mason` and that `server_name` is in `ensure_installed`.
- **Treesitter parsers missing?** Run `:TSUpdate`.
- **Slow startup?** Profile with `nvim --startuptime nvim.log` and optimise lazy-loading triggers in `lazy.lua`.

For more advanced configuration, see each plugin's documentation on GitHub.
